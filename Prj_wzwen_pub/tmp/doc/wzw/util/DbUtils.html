<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_12) on Thu Oct 20 19:01:21 CST 2011 -->
<TITLE>
DbUtils
</TITLE>

<META NAME="keywords" CONTENT="wzw.util.DbUtils class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="DbUtils";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DbUtils.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../wzw/util/DateUtils.html" title="wzw.util 中的类"><B>上一个类</B></A>&nbsp;
&nbsp;<A HREF="../../wzw/util/DebugUtils.html" title="wzw.util 中的类"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?wzw/util/DbUtils.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="DbUtils.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;嵌套&nbsp;|&nbsp;<A HREF="#field_summary">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">构造函数</A>&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;<A HREF="#field_detail">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">构造函数</A>&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
wzw.util</FONT>
<BR>
类 DbUtils</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="继承者 "><B>wzw.util.DbUtils</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>DbUtils</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<p>
    > DbUtils.java 中所有数据库操作的方法都不支持复杂事务，都是单事务的。
   数据库工具类，提供获取数据库连接等功能，方法基本上都是静态的(static)，
                不需要创建类实例就可以调用方法。通用的数据库工具，不区分数据库类型。
  如果所有的数据库操作基本方法都源自于这里，那么就可以完全跨容器、跨数据库。
    映射与协作：
        org.apache.commons.dbutils.DbUtils
                                .closeQuietly ;
        org.apache.commons.dbutils.BeanProcessor
                                .toBean ;
                                .toBeanList ;
  
        org.apache.commons.dbutils.handlers Classes  
                ArrayHandler 
                ArrayListHandler 
                BeanHandler 
                BeanListHandler 
                ColumnListHandler 
                KeyedHandler 
                MapHandler 
                MapListHandler 
                ScalarHandler 
        
  
   DBUtils 的方法来自两方面：
        1，所有数据库通用的jdbc操作由DBUtils自己实现； 
        2，所有数据库特有的操作，由 ApplicationContext.getInstance().getDatabaseManager() 对象提供；
  
          数据库工具与以下内容相关：
                1。数据源提供管理者；
                2。数据库管理者类型；
           这些相关的因数都采用注入的方式，减少依赖性。</p>
<P>

<P>
<DL>
<DT><B>自从：</B></DT>
  <DD>JDK5</DD>
<DT><B>版本：</B></DT>
  <DD>1.0</DD>
<DT><B>作者：</B></DT>
  <DD>WUZEWEN on 2004-09-15</DD>
<DT><B>另请参见：</B><DD><CODE>Object.equals(java.lang.Object)</CODE>, 
<CODE>Object.hashCode()</CODE>, 
<CODE>HashMap</CODE></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>字段摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;org.apache.log4j.Logger</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#log">log</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log4j日志对象。</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>构造函数摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#DbUtils()">DbUtils</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;构造函数。</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>方法摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#addBatch(java.sql.Statement, java.util.List)">addBatch</A></B>(java.sql.Statement&nbsp;stmt,
         java.util.List&lt;java.lang.String&gt;&nbsp;list)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;将一个List集合对象中的所有SQL语句装载到 Statement中。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#closeQuietly(java.sql.Connection)">closeQuietly</A></B>(java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connection 关闭，不抛出异常。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#closeQuietly(java.sql.Connection, java.sql.Statement, java.sql.ResultSet)">closeQuietly</A></B>(java.sql.Connection&nbsp;conn,
             java.sql.Statement&nbsp;stmt,
             java.sql.ResultSet&nbsp;rs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#closeQuietly(java.sql.ResultSet)">closeQuietly</A></B>(java.sql.ResultSet&nbsp;rs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#closeQuietly(java.sql.Statement)">closeQuietly</A></B>(java.sql.Statement&nbsp;stmt)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#commitQuietly(java.sql.Connection)">commitQuietly</A></B>(java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connection 提交，不抛出异常。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#escape2Sql(com.kingcore.framework.context.DatabaseManager, java.lang.String)">escape2Sql</A></B>(<A HREF="../../com/kingcore/framework/context/DatabaseManager.html" title="com.kingcore.framework.context 中的接口">DatabaseManager</A>&nbsp;databaseManager,
           java.lang.String&nbsp;src)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;根据当前的数据库的特殊规则对需要插入的内容采用正则表达式做特殊处理。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#executeBatch(java.util.List)">executeBatch</A></B>(java.util.List&lt;java.lang.String&gt;&nbsp;list)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;执行批处理，并且本身管理事务问题.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#executeBatch(java.util.List, java.sql.Connection)">executeBatch</A></B>(java.util.List&lt;java.lang.String&gt;&nbsp;list,
             java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;执行批处理，并且本身管理事务问题.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;javax.sql.RowSet</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#executeQuery(java.lang.String)">executeQuery</A></B>(java.lang.String&nbsp;sql)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Execute an SQL SELECT query without any replacement parameters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;javax.sql.RowSet</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#executeQuery(java.lang.String, java.sql.Connection)">executeQuery</A></B>(java.lang.String&nbsp;sql,
             java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Execute an SQL SELECT query without any replacement parameters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#executeUpdate(java.lang.String)">executeUpdate</A></B>(java.lang.String&nbsp;sql)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Execute an SQL INSERT, UPDATE, or DELETE query without replacement
 parameters，并且本身提供事务处理,这个方法单独写，没有调用 doUpdate(List list).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#executeUpdate(java.lang.String, java.sql.Connection)">executeUpdate</A></B>(java.lang.String&nbsp;sql,
              java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Execute an SQL INSERT, UPDATE, or DELETE query without replacement
 parameters，并且本身提供事务处理,这个方法单独写，没有调用 doUpdate(List list).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#getClobColumn(com.kingcore.framework.context.DatabaseManager, java.lang.String)">getClobColumn</A></B>(<A HREF="../../com/kingcore/framework/context/DatabaseManager.html" title="com.kingcore.framework.context 中的接口">DatabaseManager</A>&nbsp;databaseManager,
              java.lang.String&nbsp;sql)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;获取字符型大对象的内容。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.sql.Connection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#getConnection()">getConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;获取数据库连接，使用当前缺省的名字 。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.sql.Connection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#getConnection(javax.servlet.http.HttpServletRequest)">getConnection</A></B>(javax.servlet.http.HttpServletRequest&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>已过时。</B>&nbsp;<I>建议使用容器的 jndi 或者是 自定义的 ConnnectionPool 的获取数据库连接，不建议从application等域中获取。</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.sql.Connection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#getConnection(java.lang.String)">getConnection</A></B>(java.lang.String&nbsp;dataSourceName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;根据指定的名字，获取数据库连接，支持连接多个数据源。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#getDatabaseManagerNameByDriver(java.lang.String)">getDatabaseManagerNameByDriver</A></B>(java.lang.String&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#getIdentityValue(java.lang.String)">getIdentityValue</A></B>(java.lang.String&nbsp;tblName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;获取Oracle数据库指定序列的下一个序列值，for Oracle Only。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#getIdentityValue(java.lang.String, java.sql.Connection)">getIdentityValue</A></B>(java.lang.String&nbsp;tblName,
                 java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;获取Oracle数据库指定序列的下一个序列值，for Oracle Only。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#getSequenceValue(java.lang.String)">getSequenceValue</A></B>(java.lang.String&nbsp;seqName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;获取Oracle数据库指定序列的下一个序列值，for Oracle Only。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#getSequenceValue(java.lang.String, java.sql.Connection)">getSequenceValue</A></B>(java.lang.String&nbsp;seqName,
                 java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;获取Oracle数据库指定序列的下一个序列值，for Oracle Only。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#getSize(java.lang.String, java.lang.String)">getSize</A></B>(java.lang.String&nbsp;tableName,
        java.lang.String&nbsp;condition)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;根据表名称和查询条件，获取符合条件的数据的行数。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#getSize(java.lang.String, java.lang.String, java.sql.Connection)">getSize</A></B>(java.lang.String&nbsp;tableName,
        java.lang.String&nbsp;condition,
        java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;根据表名称和查询条件，获取符合条件的数据的行数。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#queryForInt(java.lang.String)">queryForInt</A></B>(java.lang.String&nbsp;sql)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;类似 Spring 的 queryForInt 方法，执行一个指定的语句并返回一个int数据。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#queryForInt(java.lang.String, java.sql.Connection)">queryForInt</A></B>(java.lang.String&nbsp;sql,
            java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#queryForLong(java.lang.String)">queryForLong</A></B>(java.lang.String&nbsp;sql)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;类似 Spring 的 queryForLong 方法，执行一个指定的语句并返回一个long数据。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#queryForLong(java.lang.String, java.sql.Connection)">queryForLong</A></B>(java.lang.String&nbsp;sql,
             java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;javax.sql.RowSet</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#resultSet2RowSet(com.kingcore.framework.context.DatabaseManager, java.sql.ResultSet)">resultSet2RowSet</A></B>(<A HREF="../../com/kingcore/framework/context/DatabaseManager.html" title="com.kingcore.framework.context 中的接口">DatabaseManager</A>&nbsp;databaseManager,
                 java.sql.ResultSet&nbsp;rs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;populate ResulteSet Object to RowSet Object, all implements below:  
   Oracle 10i:  oracle.jdbc.rowset.OracleCachedRowSet
         MS SQL 2000: sun.jdbc.rowset.CachedRowSet
         Access 2000: sun.jdbc.rowset.CachedRowSet

          Zeven on 2007-06-06, this static method manager which RowSet's implement used by System.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;javax.sql.RowSet</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#resultSet2RowSet(java.sql.ResultSet)">resultSet2RowSet</A></B>(java.sql.ResultSet&nbsp;rs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>已过时。</B>&nbsp;<I>请使用 resultSet2RowSet(DatabaseManager databaseManager, ResultSet rs )</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#rollbackQuietly(java.sql.Connection)">rollbackQuietly</A></B>(java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connection 回滚，不抛出异常。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#updateBlobColumn(java.sql.Connection, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">updateBlobColumn</A></B>(java.sql.Connection&nbsp;conn,
                 java.lang.String&nbsp;tablename,
                 java.lang.String&nbsp;picField,
                 java.lang.String&nbsp;sqlWhere,
                 java.lang.String&nbsp;strPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;将二进制大对象保存到数据库的表中。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../wzw/util/DbUtils.html#updateClobColumn(java.sql.Connection, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">updateClobColumn</A></B>(java.sql.Connection&nbsp;conn,
                 java.lang.String&nbsp;tablename,
                 java.lang.String&nbsp;picField,
                 java.lang.String&nbsp;sqlWhere,
                 java.lang.String&nbsp;content)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;将字符型大对象保存到数据库的表中。</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>从类 java.lang.Object 继承的方法</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>字段详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="log"><!-- --></A><H3>
log</H3>
<PRE>
protected static org.apache.log4j.Logger <B>log</B></PRE>
<DL>
<DD>log4j日志对象。
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>构造函数详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DbUtils()"><!-- --></A><H3>
DbUtils</H3>
<PRE>
public <B>DbUtils</B>()</PRE>
<DL>
<DD>构造函数。
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>方法详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getConnection()"><!-- --></A><H3>
getConnection</H3>
<PRE>
public static java.sql.Connection <B>getConnection</B>()
                                         throws java.sql.SQLException</PRE>
<DL>
<DD><p>获取数据库连接，使用当前缺省的名字 。
 <UL>
    <LI>从jndi中获取的DataSource再获得Connection对象。
    <LI>单一工厂模式，静态类来获取DataSource再获得Connection对象。
    <LI>从scope=application中获取的DataSource再获得Connection对象。
 </UL></p>
<P>
<DD><DL>

<DT><B>返回：</B><DD>conn 一个实现了Connection接口的对象
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getConnection(java.lang.String)"><!-- --></A><H3>
getConnection</H3>
<PRE>
public static java.sql.Connection <B>getConnection</B>(java.lang.String&nbsp;dataSourceName)
                                         throws java.sql.SQLException</PRE>
<DL>
<DD><p>根据指定的名字，获取数据库连接，支持连接多个数据源。
                该名称可以是容器提供的 DataSource 的jndi 名称，也可以是 ConnectionPool 的名称。
 <UL>
    <LI>从jndi中获取的DataSource再获得Connection对象。
    <LI>单一工厂模式，静态类来获取DataSource再获得Connection对象。
    <LI>从scope=application中获取的DataSource再获得Connection对象。
 </UL></p>
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>sourceName</CODE> - 源的DataSource 的jndi 名称，或者是 ConnectionPool 的名称
<DT><B>返回：</B><DD>
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="executeQuery(java.lang.String)"><!-- --></A><H3>
executeQuery</H3>
<PRE>
public static javax.sql.RowSet <B>executeQuery</B>(java.lang.String&nbsp;sql)
                                     throws java.sql.SQLException</PRE>
<DL>
<DD>Execute an SQL SELECT query without any replacement parameters.  The
 caller is responsible for connection cleanup.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>sql</CODE> - The query to execute.<DD><CODE>rsh</CODE> - The handler that converts the results into an object.
<DT><B>返回：</B><DD>The object returned by the handler.
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="executeQuery(java.lang.String, java.sql.Connection)"><!-- --></A><H3>
executeQuery</H3>
<PRE>
public static javax.sql.RowSet <B>executeQuery</B>(java.lang.String&nbsp;sql,
                                            java.sql.Connection&nbsp;conn)
                                     throws java.sql.SQLException</PRE>
<DL>
<DD>Execute an SQL SELECT query without any replacement parameters.  The
 caller is responsible for connection cleanup.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>conn</CODE> - The connection to execute the query in.<DD><CODE>sql</CODE> - The query to execute.<DD><CODE>rsh</CODE> - The handler that converts the results into an object.
<DT><B>返回：</B><DD>The object returned by the handler.
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="executeUpdate(java.lang.String)"><!-- --></A><H3>
executeUpdate</H3>
<PRE>
public static int <B>executeUpdate</B>(java.lang.String&nbsp;sql)
                         throws java.sql.SQLException</PRE>
<DL>
<DD>Execute an SQL INSERT, UPDATE, or DELETE query without replacement
 parameters，并且本身提供事务处理,这个方法单独写，没有调用 doUpdate(List list).
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>sql</CODE> - The SQL to execute
<DT><B>返回：</B><DD>The number of rows updated
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE> - 数据库操作异常</DL>
</DD>
</DL>
<HR>

<A NAME="executeUpdate(java.lang.String, java.sql.Connection)"><!-- --></A><H3>
executeUpdate</H3>
<PRE>
public static int <B>executeUpdate</B>(java.lang.String&nbsp;sql,
                                java.sql.Connection&nbsp;conn)
                         throws java.sql.SQLException</PRE>
<DL>
<DD>Execute an SQL INSERT, UPDATE, or DELETE query without replacement
 parameters，并且本身提供事务处理,这个方法单独写，没有调用 doUpdate(List list).
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>conn</CODE> - The connection to use to run the query<DD><CODE>sql</CODE> - The SQL to execute
<DT><B>返回：</B><DD>The number of rows updated
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE> - 数据库操作异常</DL>
</DD>
</DL>
<HR>

<A NAME="executeBatch(java.util.List)"><!-- --></A><H3>
executeBatch</H3>
<PRE>
public static int[] <B>executeBatch</B>(java.util.List&lt;java.lang.String&gt;&nbsp;list)
                          throws java.sql.SQLException</PRE>
<DL>
<DD>执行批处理，并且本身管理事务问题.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>allsql</CODE> - 要执行的sql语句组成的数组。
<DT><B>返回：</B><DD>每个sql语句影响的行数组成的数组。
<DT><B>抛出：</B>
<DD><CODE>执行批处理失败。</CODE>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="executeBatch(java.util.List, java.sql.Connection)"><!-- --></A><H3>
executeBatch</H3>
<PRE>
public static int[] <B>executeBatch</B>(java.util.List&lt;java.lang.String&gt;&nbsp;list,
                                 java.sql.Connection&nbsp;conn)
                          throws java.sql.SQLException</PRE>
<DL>
<DD>执行批处理，并且本身管理事务问题.
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>conn</CODE> - 数据库连接对象。<DD><CODE>allsql</CODE> - 要执行的sql语句组成的数组。
<DT><B>返回：</B><DD>每个sql语句影响的行数组成的数组。
<DT><B>抛出：</B>
<DD><CODE>执行批处理失败。</CODE>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getSize(java.lang.String, java.lang.String)"><!-- --></A><H3>
getSize</H3>
<PRE>
public static int <B>getSize</B>(java.lang.String&nbsp;tableName,
                          java.lang.String&nbsp;condition)
                   throws java.sql.SQLException</PRE>
<DL>
<DD>根据表名称和查询条件，获取符合条件的数据的行数。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>tableName</CODE> - 要查询的表名称<DD><CODE>condition</CODE> - 过滤条件，如“WHERE numCol>100”
<DT><B>返回：</B><DD>符合条件的行数
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE> - 数据库操作异常</DL>
</DD>
</DL>
<HR>

<A NAME="getSize(java.lang.String, java.lang.String, java.sql.Connection)"><!-- --></A><H3>
getSize</H3>
<PRE>
public static int <B>getSize</B>(java.lang.String&nbsp;tableName,
                          java.lang.String&nbsp;condition,
                          java.sql.Connection&nbsp;conn)
                   throws java.sql.SQLException</PRE>
<DL>
<DD>根据表名称和查询条件，获取符合条件的数据的行数。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>conn</CODE> - 数据库连接对象。<DD><CODE>tableName</CODE> - 要查询的表名称<DD><CODE>condition</CODE> - 过滤条件，如“WHERE numCol>100”
<DT><B>返回：</B><DD>符合条件的行数
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE> - 数据库操作异常</DL>
</DD>
</DL>
<HR>

<A NAME="queryForInt(java.lang.String)"><!-- --></A><H3>
queryForInt</H3>
<PRE>
public static int <B>queryForInt</B>(java.lang.String&nbsp;sql)
                       throws java.sql.SQLException</PRE>
<DL>
<DD>类似 Spring 的 queryForInt 方法，执行一个指定的语句并返回一个int数据。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>sql</CODE> - 
<DT><B>返回：</B><DD>
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="queryForInt(java.lang.String, java.sql.Connection)"><!-- --></A><H3>
queryForInt</H3>
<PRE>
public static int <B>queryForInt</B>(java.lang.String&nbsp;sql,
                              java.sql.Connection&nbsp;conn)
                       throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="queryForLong(java.lang.String)"><!-- --></A><H3>
queryForLong</H3>
<PRE>
public static long <B>queryForLong</B>(java.lang.String&nbsp;sql)
                         throws java.sql.SQLException</PRE>
<DL>
<DD>类似 Spring 的 queryForLong 方法，执行一个指定的语句并返回一个long数据。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>sql</CODE> - 
<DT><B>返回：</B><DD>
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="queryForLong(java.lang.String, java.sql.Connection)"><!-- --></A><H3>
queryForLong</H3>
<PRE>
public static long <B>queryForLong</B>(java.lang.String&nbsp;sql,
                                java.sql.Connection&nbsp;conn)
                         throws java.sql.SQLException</PRE>
<DL>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getSequenceValue(java.lang.String)"><!-- --></A><H3>
getSequenceValue</H3>
<PRE>
public static int <B>getSequenceValue</B>(java.lang.String&nbsp;seqName)
                            throws java.sql.SQLException</PRE>
<DL>
<DD>获取Oracle数据库指定序列的下一个序列值，for Oracle Only。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>seqName</CODE> - 序列对象名称
<DT><B>返回：</B><DD>序列的下一个值
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE> - 数据库操作失败异常。</DL>
</DD>
</DL>
<HR>

<A NAME="getSequenceValue(java.lang.String, java.sql.Connection)"><!-- --></A><H3>
getSequenceValue</H3>
<PRE>
public static int <B>getSequenceValue</B>(java.lang.String&nbsp;seqName,
                                   java.sql.Connection&nbsp;conn)
                            throws java.sql.SQLException</PRE>
<DL>
<DD>获取Oracle数据库指定序列的下一个序列值，for Oracle Only。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>conn</CODE> - 数据库连接对象。<DD><CODE>seqName</CODE> - 序列对象名称
<DT><B>返回：</B><DD>序列的下一个值
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE> - 数据库操作失败异常。</DL>
</DD>
</DL>
<HR>

<A NAME="getIdentityValue(java.lang.String)"><!-- --></A><H3>
getIdentityValue</H3>
<PRE>
public static long <B>getIdentityValue</B>(java.lang.String&nbsp;tblName)
                             throws java.sql.SQLException</PRE>
<DL>
<DD>获取Oracle数据库指定序列的下一个序列值，for Oracle Only。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>tblName</CODE> - 需要使用id的表的名称
<DT><B>返回：</B><DD>序列的下一个值
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE> - 数据库操作失败异常。</DL>
</DD>
</DL>
<HR>

<A NAME="getIdentityValue(java.lang.String, java.sql.Connection)"><!-- --></A><H3>
getIdentityValue</H3>
<PRE>
public static long <B>getIdentityValue</B>(java.lang.String&nbsp;tblName,
                                    java.sql.Connection&nbsp;conn)
                             throws java.sql.SQLException</PRE>
<DL>
<DD>获取Oracle数据库指定序列的下一个序列值，for Oracle Only。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>conn</CODE> - 数据库连接对象。<DD><CODE>tblName</CODE> - 需要使用id的表的名称
<DT><B>返回：</B><DD>序列的下一个值
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE> - 数据库操作失败异常。</DL>
</DD>
</DL>
<HR>

<A NAME="addBatch(java.sql.Statement, java.util.List)"><!-- --></A><H3>
addBatch</H3>
<PRE>
public static void <B>addBatch</B>(java.sql.Statement&nbsp;stmt,
                            java.util.List&lt;java.lang.String&gt;&nbsp;list)
                     throws java.sql.SQLException</PRE>
<DL>
<DD>将一个List集合对象中的所有SQL语句装载到 Statement中。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>stmt</CODE> - 实现了Statement接口的对象<DD><CODE>list</CODE> - 实现了List接口的对象
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="escape2Sql(com.kingcore.framework.context.DatabaseManager, java.lang.String)"><!-- --></A><H3>
escape2Sql</H3>
<PRE>
public static java.lang.String <B>escape2Sql</B>(<A HREF="../../com/kingcore/framework/context/DatabaseManager.html" title="com.kingcore.framework.context 中的接口">DatabaseManager</A>&nbsp;databaseManager,
                                          java.lang.String&nbsp;src)</PRE>
<DL>
<DD>根据当前的数据库的特殊规则对需要插入的内容采用正则表达式做特殊处理。
                针对字符串类型(Varchar)，数字(Number)、日期(Date)和二进制(LOB)类型不用这个处理。
                -- 当前是针对 Oracle 数据库，将 ' 符号 替换为 '' ，才能插入到数据库中。
 <pre>
 DBUtils.escape2Sql("ab'cd")                    ="ab''cd"
 DBUtils.escape2Sql("ab'c'd")                   ="ab''c''d"
 DBUtils.escape2Sql("ab''cd")                   ="ab''''cd"
 </pre>
   建议：本方法不再使用DBUtils调用，而是使用DAO, DBBean对象调用或者直接通过DatabaseManager对象调用。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>src</CODE> - 需要保存到数据库的一个字段。
<DT><B>返回：</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="resultSet2RowSet(com.kingcore.framework.context.DatabaseManager, java.sql.ResultSet)"><!-- --></A><H3>
resultSet2RowSet</H3>
<PRE>
public static javax.sql.RowSet <B>resultSet2RowSet</B>(<A HREF="../../com/kingcore/framework/context/DatabaseManager.html" title="com.kingcore.framework.context 中的接口">DatabaseManager</A>&nbsp;databaseManager,
                                                java.sql.ResultSet&nbsp;rs)
                                         throws java.sql.SQLException</PRE>
<DL>
<DD>populate ResulteSet Object to RowSet Object, all implements below:  
   Oracle 10i:  oracle.jdbc.rowset.OracleCachedRowSet
         MS SQL 2000: sun.jdbc.rowset.CachedRowSet
         Access 2000: sun.jdbc.rowset.CachedRowSet

          Zeven on 2007-06-06, this static method manager which RowSet's implement used by System.
                It's safe for mutil thread case.
                
                根据当前系统设置的数据库类型构造 RowSet 对象；
                支持多数据库的普通数据的 ResultSet to RowSet 处理。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>rs</CODE> - 
<DT><B>返回：</B><DD>
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="resultSet2RowSet(java.sql.ResultSet)"><!-- --></A><H3>
resultSet2RowSet</H3>
<PRE>
public static javax.sql.RowSet <B>resultSet2RowSet</B>(java.sql.ResultSet&nbsp;rs)
                                         throws java.sql.SQLException</PRE>
<DL>
<DD><B>已过时。</B>&nbsp;<I>请使用 resultSet2RowSet(DatabaseManager databaseManager, ResultSet rs )</I>
<P>
<DD>根据传入的数据库类型构造相应的 RowSet 对象，以解决程序中可能连接多个类型数据的问题，
        而对于Servlet Container 的 Web 服务就不可能有多个的情况。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>rs</CODE> - 需要装入 RowSet 的 ResultSet 对象引用<DD><CODE>dbms_type</CODE> - 枚举值，参考 com.kingcore.framework.Constants.DBMS_Type_...
<DT><B>返回：</B><DD>
<DT><B>抛出：</B>
<DD><CODE>java.sql.SQLException</CODE><DT><B>另请参见：</B><DD><CODE>com.kingcore.framework.Constants.DBMS_Type_...</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="updateBlobColumn(java.sql.Connection, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
updateBlobColumn</H3>
<PRE>
public static boolean <B>updateBlobColumn</B>(java.sql.Connection&nbsp;conn,
                                       java.lang.String&nbsp;tablename,
                                       java.lang.String&nbsp;picField,
                                       java.lang.String&nbsp;sqlWhere,
                                       java.lang.String&nbsp;strPath)
                                throws java.lang.Exception</PRE>
<DL>
<DD>将二进制大对象保存到数据库的表中。
   BLOB(Binary   Large   Object)   
     可用来存储无结构的二进制数据。（类似于row和long   row）
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>Tablename</CODE> - 表名称<DD><CODE>picField</CODE> - 列名称<DD><CODE>sqlWhere</CODE> - sql的where 语句，如 "where id='123456'"<DD><CODE>strPath</CODE> - 要放入数据库的文件的全路径，如 "D:/upload/a.txe","D:\\upload\\a.txt"
<DT><B>返回：</B><DD>
<DT><B>抛出：</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="updateClobColumn(java.sql.Connection, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
updateClobColumn</H3>
<PRE>
public static boolean <B>updateClobColumn</B>(java.sql.Connection&nbsp;conn,
                                       java.lang.String&nbsp;tablename,
                                       java.lang.String&nbsp;picField,
                                       java.lang.String&nbsp;sqlWhere,
                                       java.lang.String&nbsp;content)
                                throws java.lang.Exception</PRE>
<DL>
<DD>将字符型大对象保存到数据库的表中。
   CLOB(Character   Large   Object)   
     用于存储对应于数据库定义的字符集的字符数据。（类似于long类型）
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>Tablename</CODE> - 表名称<DD><CODE>picField</CODE> - 列名称<DD><CODE>sqlWhere</CODE> - sql的where 语句，如 "where id='123456'"<DD><CODE>Content</CODE> - 要放入数据库的内容
<DT><B>返回：</B><DD>
<DT><B>抛出：</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getClobColumn(com.kingcore.framework.context.DatabaseManager, java.lang.String)"><!-- --></A><H3>
getClobColumn</H3>
<PRE>
public static java.lang.String <B>getClobColumn</B>(<A HREF="../../com/kingcore/framework/context/DatabaseManager.html" title="com.kingcore.framework.context 中的接口">DatabaseManager</A>&nbsp;databaseManager,
                                             java.lang.String&nbsp;sql)
                                      throws java.lang.Exception</PRE>
<DL>
<DD>获取字符型大对象的内容。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>sql</CODE> - 
<DT><B>返回：</B><DD>
<DT><B>抛出：</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="closeQuietly(java.sql.Connection, java.sql.Statement, java.sql.ResultSet)"><!-- --></A><H3>
closeQuietly</H3>
<PRE>
public static void <B>closeQuietly</B>(java.sql.Connection&nbsp;conn,
                                java.sql.Statement&nbsp;stmt,
                                java.sql.ResultSet&nbsp;rs)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="closeQuietly(java.sql.ResultSet)"><!-- --></A><H3>
closeQuietly</H3>
<PRE>
public static void <B>closeQuietly</B>(java.sql.ResultSet&nbsp;rs)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="closeQuietly(java.sql.Statement)"><!-- --></A><H3>
closeQuietly</H3>
<PRE>
public static void <B>closeQuietly</B>(java.sql.Statement&nbsp;stmt)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="rollbackQuietly(java.sql.Connection)"><!-- --></A><H3>
rollbackQuietly</H3>
<PRE>
public static void <B>rollbackQuietly</B>(java.sql.Connection&nbsp;conn)</PRE>
<DL>
<DD>Connection 回滚，不抛出异常。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>conn</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="commitQuietly(java.sql.Connection)"><!-- --></A><H3>
commitQuietly</H3>
<PRE>
public static void <B>commitQuietly</B>(java.sql.Connection&nbsp;conn)</PRE>
<DL>
<DD>Connection 提交，不抛出异常。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>conn</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="closeQuietly(java.sql.Connection)"><!-- --></A><H3>
closeQuietly</H3>
<PRE>
public static void <B>closeQuietly</B>(java.sql.Connection&nbsp;conn)</PRE>
<DL>
<DD>Connection 关闭，不抛出异常。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>conn</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getConnection(javax.servlet.http.HttpServletRequest)"><!-- --></A><H3>
getConnection</H3>
<PRE>
public static java.sql.Connection <B>getConnection</B>(javax.servlet.http.HttpServletRequest&nbsp;request)
                                         throws java.sql.SQLException</PRE>
<DL>
<DD><B>已过时。</B>&nbsp;<I>建议使用容器的 jndi 或者是 自定义的 ConnnectionPool 的获取数据库连接，不建议从application等域中获取。</I>
<P>
<DD>获取数据库连接。
 <UL>
    <LI>从scope=application中获取的DataSource再获得Connection对象。
 </UL>
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>request:请求对象，从scope=application获取conn专用</CODE> - 
<DT><B>返回：</B><DD>Connection conn:一个实现了Connection接口的对象
<DT><B>抛出：</B>
<DD><CODE>no</CODE> - exception
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getDatabaseManagerNameByDriver(java.lang.String)"><!-- --></A><H3>
getDatabaseManagerNameByDriver</H3>
<PRE>
public static java.lang.String <B>getDatabaseManagerNameByDriver</B>(java.lang.String&nbsp;url)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;args)
                 throws java.net.URISyntaxException</PRE>
<DL>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.net.URISyntaxException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DbUtils.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../wzw/util/DateUtils.html" title="wzw.util 中的类"><B>上一个类</B></A>&nbsp;
&nbsp;<A HREF="../../wzw/util/DebugUtils.html" title="wzw.util 中的类"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?wzw/util/DbUtils.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="DbUtils.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;嵌套&nbsp;|&nbsp;<A HREF="#field_summary">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">构造函数</A>&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;<A HREF="#field_detail">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">构造函数</A>&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
